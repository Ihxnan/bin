#!/usr/bin/bash

# 检查ubuntu虚拟机的状态
STATUS=$(sudo virsh list --all | grep ubuntu | awk '{print $3}')

# 如果虚拟机未运行，则启动它
if [ "$STATUS" != "running" ]; then
    echo "Ubuntu is not running, starting it now..."
    sudo virsh start ubuntu
    
    # 等待虚拟机启动
    echo "Waiting for Ubuntu to start up..."
    sleep 30  # 可根据实际启动时间调整
fi

# 连接到虚拟机
echo "Connecting to Ubuntu via SSH..."
ssh ihxnan@192.168.122.110

